<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Customer Insights</title>
  <!-- angular js-->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <!-- bootstrap css -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <!-- bootstrap js -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <!-- app logic (js) -->

  <script src="/scripts/index.js"></script>
  <!-- custom styles -->
  <link rel="stylesheet" href="/styles/style.css">
</head>

<body ng-app="myApp">
  <div id="header" class="navbar-fixed-top navbar-header">
      <h1>Customer Insights
        <small>Delve Deeper</small>
      </h1>
      <p>
        User information, insights into demographics and "Safe to Spend" allowance
      </p>
  </div>

<div id="wrap">



  <div id="main" class="container" ng-controller="InfoController">
      <!-- <div>
        <br><br>
          <h1>Customer Insights</h1>
          <small>Delve Deeper</small>
          <p>
            This page lists users information, gives insights into their demographic and show "Safe to Spend" amount.
          </p>
      </div> -->

      <!-- div.row>h2{Customer ID:}+div#custom-search-input>div.input-group.col-md-12>input.search-query.form-control+span.input-group-btn>button:button.btn.btn-danger>span.glyphicon.glyphicon-search -->

     <div class="row">
        <h2>Customer ID:</h2>

        <div id="custom-search-input">
          <div class="input-group col-md-12" id="id-input-form">
              <input type="number" class="search-query form-control" ng-model="customer.id" ng-minlength="0" ng-maxlength="100000" required name="id-input">
              <span class="input-group-btn">
                <button class="btn btn-primary" ng-click="find(customer.id)" ng-disabled="!customer.id">
                  <!-- not working: || id-input-form.$invalid" -->
                  <span class="glyphicon glyphicon-search"></span>
                </button>
              </span>
          </div>
        </div>
        <pre>JSON Request: <br>{{customer | json}}</pre>
      </div>


<!-- <div class="container"> -->
<!-- bootstrap -->

        <div id="panel" class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xs-offset-0 col-sm-offset-0 col-md-offset-3 col-lg-offset-3 toppad" ng-show="id">
          <div class="panel panel-primary">
            <div class="panel-heading">
              <h3 class="panel-title">ID: {{ id }}</h3>
            </div>
            <div class="panel-body">
              <div class="row">
                <!--<div class="col-xs-10 col-sm-10 hidden-md hidden-lg"> <br>
                  <dl>
                    <dt>DEPARTMENT:</dt>
                    <dd>Administrator</dd>
                    <dt>HIRE DATE</dt>
                    <dd>11/12/2013</dd>
                    <dt>DATE OF BIRTH</dt>
                       <dd>11/12/2013</dd>
                    <dt>GENDER</dt>
                    <dd>Male</dd>
                  </dl>
                </div>-->
                <div class=" col-md-9 col-lg-9 ">
                  <table class="table table-user-information">
                    <tbody>
                      <tr>
                        <td>Balance:</td>
                        <td>{{ balance | currency:"€" }}</td>
                      </tr>
                      <tr>
                        <td>Status:</td>
                        <td>{{ status }}</td>
                      </tr>
                      <tr>
                        <td>Income</td>
                        <td>{{ income | currency:"€" }}</td>
                      </tr>
                      <tr>
                        <td>Payday</td>
                        <td>{{ payday }}</td>
                      </tr>
                        <td>Age</td>
                        <td>{{ age }}</td>
                      </tr>
                      <tr>
                        <td>Sex</td>
                        <td>{{ sex }}</td>
                      </tr>
                        <td>County</td>
                        <td>{{ county }}</td>
                      </tr>
                      <!-- </tr>
                        <td>Rent/Morgage Transactions</td>
                        <td>{{ rent_transactions }}</td>
                      </tr>
                      </tr>
                        <td>General Transactions</td>
                        <td>{{ transactions }}</td>
                      </tr> -->
                    </tbody>
                  </table>

                  <a href="#" class="btn btn-primary">Deactivate Account</a>
                  <a href="#" class="btn btn-primary">Edit Account</a>
                </div>
              </div>
            </div>

          </div>
        </div>

<!-- Rent/Mortgage  -->
<table class="table table-condensed table-striped" ng-show="id">
<thead>
  <tr>
    <th align="center" colspan="5">
      <h2>Rent/Mortgage Transactions</h2>
      <!-- <pre>Sorting rPredicate = {{rPredicate}}; rReverse = {{rReverse}}</pre> -->
      [ <a href="" ng-click="rPredicate=''">unsorted</a> ]
    </th>
  </tr>

  <tr>
    <th>
      <h4>
        <span class="sortorder" ng-show="rPredicate=='rent_date'" ng-class="{reverse:rReverse}"></span>
        <a href="" ng-click="rOrder('rent_date')">Date</a>
      </h4>
    </th>

    <th>
      <h4>
        <span class="sortorder" ng-show="rPredicate=='ammount'" ng-class="{reverse:rReverse}"></span>
        <a href="" ng-click="rOrder('ammount')">Ammount</a>
      </h4>
    </th>
  </tr>
</thead>

<tbody>
  <tr ng-repeat="rent_transaction in rent_transactions | orderBy:rPredicate:rReverse">
    <td>{{ rent_transaction.rent_date }}</td>
    <td>{{ rent_transaction.ammount | currency:"€" }}</td>
  </tr>
</tbody>
</table>


<!-- Transactions -->
<table class="table table-condensed table-striped" ng-show="id">
<thead>

<tr>
  <th align="center" colspan="5">
    <h2>Transactions</h2>
    <!-- <pre>Sorting tPredicate = {{tPredicate}}; tReverse = {{tReverse}}</pre> -->
    [ <a href="" ng-click="tPredicate=''">unsorted</a> ]
  </th>
</tr>

<tr>
<th>
  <h4>
    <span class="sortorder" ng-show="tPredicate=='date'" ng-class="{reverse:tReverse}"></span>
    <a href="" ng-click="tOrder('date')">Date</a>
  </h4>
</th>

<th>
  <h4>
    <span class="sortorder" ng-show="tPredicate=='category'" ng-class="{reverse:tReverse}"></span>
    <a href="" ng-click="tOrder('category')">Category</a>
  </h4>
</th>

<th>
  <h4>
    <span class="sortorder" ng-show="tPredicate=='subcategory'" ng-class="{reverse:tReverse}"></span>
    <a href="" ng-click="tOrder('subcategory')">Subcategory</a>
  </h4>
</th>

<th>
  <h4>
    <span class="sortorder" ng-show="tPredicate=='ammount'" ng-class="{reverse:tReverse}"></span>
    <a href="" ng-click="tOrder('ammount')">Ammount</a>
  </h4>
</th>

<th>
  <h4>
    <span class="sortorder" ng-show="tPredicate=='type'" ng-class="{reverse:tReverse}"></span>
    <a href="" ng-click="tOrder('type')">Type</a>
  </h4>
</th>

</tr>
</thead>

<tbody>
<tr ng-repeat="transaction in transactions | orderBy:tPredicate:tReverse">
  <td>
    <p>{{ transaction.date }}</p>
  </td>

  <td>
    <p>{{ transaction.category }}</p>
  </td>

  <td>
    <p>{{ transaction.subcategory }}</p>
  </td>

  <td>
    <p>{{ transaction.ammount  | currency:"€"  }}</p>
  </td>

  <td>
    <p>{{ transaction.type }}</p>
  </td>
</tr>
</tbody>
</table>
</div>

</div>
  <footer class="footer">
    <div class="container">
      <hr>
      <p class="text-muted">Lean Mean Hacking Machine ©</p>
    </div>
  </footer>
</body>
</html>
